import{$ as b,G as d,Q as u,Z as l,e as i,ga as v}from"./chunk-BCIMN37U.js";function C(e){e||(e=u(b));let o=new i(t=>{if(e.destroyed){t.next();return}return e.onDestroy(t.next.bind(t))});return t=>t.pipe(d(o))}function O(e){e===void 0&&(e=u(l));let o=e.get(v);return t=>new i(n=>{let f=o.add(),c=!1;function r(){c||(f(),c=!0)}let a=t.subscribe({next:s=>{n.next(s),r()},complete:()=>{n.complete(),r()},error:s=>{n.error(s),r()}});return a.add(()=>{n.unsubscribe(),r()}),a})}export{C as a,O as b};
